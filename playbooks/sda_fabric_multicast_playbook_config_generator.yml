---
################################################################################
# SDA Fabric Multicast Playbook Config Generator Examples
################################################################################
# This playbook demonstrates how to generate YAML configurations from existing
# SDA fabric multicast deployments in Cisco Catalyst Center.
#
# The module creates playbooks compatible with the
# 'sda_fabric_multicast_workflow_manager' module for configuration management
# and documentation.
################################################################################

# Example 1: Generate YAML playbook for all SDA fabric multicast configurations
- name: Generate YAML playbook for all SDA fabric multicast configurations
  hosts: dnac_servers
  vars_files:
    - credentials.yml
  gather_facts: false
  connection: local
  tasks:
    - name: Generate all fabric multicast configurations
      cisco.dnac.sda_fabric_multicast_playbook_config_generator:
        dnac_host: "{{ dnac_host }}"
        dnac_username: "{{ dnac_username }}"
        dnac_password: "{{ dnac_password }}"
        dnac_verify: "{{ dnac_verify }}"
        dnac_port: "{{ dnac_port }}"
        dnac_version: "{{ dnac_version }}"
        dnac_debug: "{{ dnac_debug }}"
        dnac_log: true
        dnac_log_level: INFO
        state: gathered
        config:
          - generate_all_configurations: true
            file_path: "all_fabric_multicast_configs.yml"

# Example 2: Generate YAML playbook for specific fabric site
- name: Generate YAML playbook for specific fabric site
  hosts: dnac_servers
  vars_files:
    - credentials.yml
  gather_facts: false
  connection: local
  tasks:
    - name: Generate fabric multicast configs for specific site
      cisco.dnac.sda_fabric_multicast_playbook_config_generator:
        dnac_host: "{{ dnac_host }}"
        dnac_username: "{{ dnac_username }}"
        dnac_password: "{{ dnac_password }}"
        dnac_verify: "{{ dnac_verify }}"
        dnac_port: "{{ dnac_port }}"
        dnac_version: "{{ dnac_version }}"
        dnac_debug: "{{ dnac_debug }}"
        dnac_log: true
        state: gathered
        config:
          - file_path: "site_specific_multicast.yml"
            component_specific_filters:
              components_list:
                - fabric_multicast
              fabric_multicast:
                - fabric_name: "Global/USA/San Jose/Building1"

# Example 3: Generate YAML playbook for specific fabric and virtual network
- name: Generate YAML playbook for specific fabric and virtual network
  hosts: dnac_servers
  vars_files:
    - credentials.yml
  gather_facts: false
  connection: local
  tasks:
    - name: Generate configs for specific fabric and VN
      cisco.dnac.sda_fabric_multicast_playbook_config_generator:
        dnac_host: "{{ dnac_host }}"
        dnac_username: "{{ dnac_username }}"
        dnac_password: "{{ dnac_password }}"
        dnac_verify: "{{ dnac_verify }}"
        dnac_port: "{{ dnac_port }}"
        dnac_version: "{{ dnac_version }}"
        dnac_debug: "{{ dnac_debug }}"
        state: gathered
        config:
          - component_specific_filters:
              fabric_multicast:
                - fabric_name: "Global/USA/San Jose/Building1"
                  layer3_virtual_network: "GUEST_VN"

# Example 4: Generate playbook for multiple fabric sites with auto-generated filename
- name: Generate playbook for multiple fabric sites
  hosts: dnac_servers
  vars_files:
    - credentials.yml
  gather_facts: false
  connection: local
  tasks:
    - name: Generate configs for multiple sites with auto-generated filename
      cisco.dnac.sda_fabric_multicast_playbook_config_generator:
        dnac_host: "{{ dnac_host }}"
        dnac_username: "{{ dnac_username }}"
        dnac_password: "{{ dnac_password }}"
        dnac_verify: "{{ dnac_verify }}"
        dnac_port: "{{ dnac_port }}"
        dnac_version: "{{ dnac_version }}"
        dnac_debug: "{{ dnac_debug }}"
        state: gathered
        config:
          - component_specific_filters:
              fabric_multicast:
                - fabric_name: "Global/USA/San Jose/Building1"
                - fabric_name: "Global/USA/San Jose/Building2"
                - fabric_name: "Global/Europe/London/DataCenter1"
